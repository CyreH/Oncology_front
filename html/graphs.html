<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/main.css">
    <title>Графики</title>
</head>
<body>
<header class="header">
    <a href="home.html" class="header__title">Le Ha Im</a>

    <div class="header__links">
        <a href="usage.html" class="header__links-link">Область применения</a>
        <a href="copyright.html" class="header__links-link">Авторские права</a>
    </div>

    <button class="header__enter">Войти</button>
</header>

<section class="graphs">
    <div class="graphs__text">
        <p>Информациая о пациенте:</p>

        <button class="graphs__text-print" onclick="window.print()">Печать</button>
    </div>
    <p class="graphs__name">Зубенко Михаил Петрович</p>
    <div class="graphs__info">
        <h3 class="graphs__info-diagnose">Диагноз: C50</h3>
        <p class="graphs__info-date">Дата исследования: 12.03.1993</p>

        <a href="analysis.html" class="graphs__info-backbtn">К анализам</a>
    </div>

    <div class="graphs__analysis">
        <h3 class="graphs__analysis-header">Сравнение анализов</h3>

        <table class="graphs__analysis-table">
            <thead>
            <tr>
                <th>Показатель</th>
                <th>Среднее по <br> предыдущим</th>
                <th>Текущий</th>
                <th>Ед. изм.</th>
                <th>Реф. интервал</th>
                <th>Изменения</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Лейкоциты (WBC)</td>
                <td>36.71</td>
                <td>6.71</td>
                <td>10e9/л</td>
                <td>(0.00 - 0.80)</td>
                <td>+6.71%</td>
            </tr>
            <tr>
                <td>Т-цитоксические лимфоциты (CD3+CD8+)</td>
                <td>26.71</td>
                <td>6.71</td>
                <td>10e9/л</td>
                <td>(0.00 - 0.80)</td>
                <td>-1%</td>
            </tr>
            <tr>
                <td>CD3+IFNy+ (стимулированный)</td>
                <td>16.71</td>
                <td>32.300</td>
                <td>%</td>
                <td>(10.900-18.600)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Лейкоциты (WBC)</td>
                <td>36.71</td>
                <td>6.71</td>
                <td>10e9/л</td>
                <td>(0.00 - 0.80)</td>
                <td>+6.71%</td>
            </tr>
            <tr>
                <td>Лейкоциты (WBC)</td>
                <td>36.71</td>
                <td>6.71</td>
                <td>10e9/л</td>
                <td>(0.00 - 0.80)</td>
                <td>+6.71%</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="graphs__title">
        <h3 class="graphs__title-head">B-клеточное звено</h3>
        <div class="graphs__title-pic">
            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 13.4952L1 19L6.50476 17L19 4.50476L15.4952 1L3 13.4952Z" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.7998 4L15.9998 7.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3.7998 13L6.9998 16.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
    </div>

    <div class="graphs__result">
        <div class="graphs__result-pic">
            <img src="../media/graph.png" alt="граф">
        </div>

        <div class="graphs__result-info">
            <h4 class="graphs__result-info-head">Заключение по показателям B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <h4 class="graphs__result-info-head">Рекомендации для B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <p class="graphs__result-info-additional">*рекомендации по коррекции лечения требуют консультации с лечащим
                врачом</p>
        </div>
    </div>

    <div class="graphs__title">
        <h3 class="graphs__title-head">T-клеточное звено</h3>
        <div class="graphs__title-pic">
            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 13.4952L1 19L6.50476 17L19 4.50476L15.4952 1L3 13.4952Z" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.7998 4L15.9998 7.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3.7998 13L6.9998 16.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
    </div>

    <div class="graphs__result">
        <div class="graphs__result-pic">
            <img src="../media/graph.png" alt="граф">
        </div>

        <div class="graphs__result-info">
            <h4 class="graphs__result-info-head">Заключение по показателям B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <h4 class="graphs__result-info-head">Рекомендации для B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <p class="graphs__result-info-additional">*рекомендации по коррекции лечения требуют консультации с лечащим
                врачом</p>
        </div>
    </div>

    <div class="graphs__title">
        <h3 class="graphs__title-head">T-клеточное звено</h3>
        <div class="graphs__title-pic">
            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 13.4952L1 19L6.50476 17L19 4.50476L15.4952 1L3 13.4952Z" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.7998 4L15.9998 7.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3.7998 13L6.9998 16.2" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
    </div>

    <div class="graphs__result">
        <div class="graphs__result-pic">
            <img src="../media/graph.png" alt="граф">
        </div>

        <div class="graphs__result-info">
            <h4 class="graphs__result-info-head">Заключение по показателям B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <h4 class="graphs__result-info-head">Рекомендации для B-клеточного звена:</h4>
            <ol class="graphs__result-info-list">
                <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышениемот нормы в 2 раза)</li>
                <li>Компенсируемый или нет</li>
                <li>Изменение динамики если есть</li>
            </ol>

            <p class="graphs__result-info-additional">*рекомендации по коррекции лечения требуют консультации с лечащим
                врачом</p>
        </div>
    </div>
</section>

<dialog class="modal modal_edit">
    <form class="modal_edit__content">
        <button class="modal_edit__content-close" id="closeEditBtn" formmethod="dialog">
            <img src="../media/crossRed.svg" alt="закрыть"/>
        </button>

        <h2 class="modal_edit__content-title">B-клеточное звено</h2>

        <div class="modal_edit__content-block">
            <p class="modal_edit__content-block-head">Заключение по показателям B-клеточного звена:</p>

            <div contenteditable="true" class="modal_edit__content-block-text">
                <ol class="modal_edit__content-block-text-list">
                    <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышением от нормы в 2 раза)</li>
                    <li>Компенсируемый или нет</li>
                    <li>Изменение динамики если есть</li>
                </ol>
            </div>
        </div>

        <div class="modal_edit__content-block">
            <p class="modal_edit__content-block-head">Рекомендации для B-клеточного звена:</p>

            <div contenteditable="true" class="modal_edit__content-block-text">
                <ol class="modal_edit__content-block-text-list">
                    <li>Мало (ОВИД 1, 2, 3) или много (лимфоцитоз с превышением от нормы в 2 раза)</li>
                    <li>Компенсируемый или нет</li>
                    <li>Изменение динамики если есть</li>
                </ol>
            </div>
        </div>

        <button type="submit" class="modal_edit__content-submit">Изменить</button>
    </form>
</dialog>

<dialog class="modal modal_auth">
    <form class="modal__content">
        <button class="modal__content-close" id="closeAuthBtn" formmethod="dialog">
            <img src="../media/crossRed.svg" alt="закрыть"/>
        </button>

        <h2 class="modal__content-title">Авторизация</h2>

        <div class="modal__content-input-box">
            <input type="text" placeholder="Логин" required>
        </div>

        <div class="modal__content-input-box">
            <input type="password" id="authPassword" class="modal__content-input-box-input" placeholder="Пароль"
                   required>

            <img class="modal__content-input-box-show" id="showPass" src="../media/showPass.svg" alt=""/>
            <img class="modal__content-input-box-hide" id="hidePass" src="../media/hidePass.svg" alt=""/>
        </div>

        <button class="modal__content-frgt-pass">Забыли пароль?</button>

        <button type="submit" class="modal__content-submit">Войти</button>

        <p class="modal__content-text">Нет аккаунта? <span id="openRegisBtn">Зарегистрироваться</span></p>
    </form>
</dialog>

<dialog class="modal modal_regis">
    <form class="modal__content">
        <button class="modal__content-close" id="closeRegisBtn" formmethod="dialog">
            <img src="../media/crossRed.svg" alt="закрыть"/>
        </button>

        <h2 class="modal__content-title">Регистрация</h2>


        <div class="modal_regis__inputs">
            <div class="modal__content-input-box">
                <input type="text" placeholder="Фамилия Имя Отчество" required>
            </div>

            <div class="modal__content-input-box">
                <input type="password" class="modal__content-input-box-input" id="newPassword" placeholder="Пароль"
                       required>

                <img class="modal__content-input-box-show" src="../media/showPass.svg" alt=""/>
                <img class="modal__content-input-box-hide" src="../media/hidePass.svg" alt=""/>
            </div>

            <div class="modal__content-input-box">
                <input type="date" placeholder="Дата Рождения" required>
            </div>

            <div class="modal__content-input-box">
                <input type="password" class="modal__content-input-box-input" id="confirmNewPassword"
                       placeholder="Повторите пароль" required>

                <img class="modal__content-input-box-show" src="../media/showPass.svg" alt=""/>
                <img class="modal__content-input-box-hide" src="../media/hidePass.svg" alt=""/>

                <img class="modal__content-input-box-tick" src="../media/tickGreen.svg" alt="совпадают">
            </div>

            <div class="modal__content-input-box">
                <input type="email" placeholder="Почта" required>
            </div>
        </div>

        <button type="submit" class="modal__content-submit">Зарегистрироваться</button>

        <p class="modal__content-text">Уже зарегистрированы? <span id="openAuthBtn">Войдите</span>
        </p>
    </form>
</dialog>

<script>
    const openAuthBtn = document.querySelector('.header__enter')
    const closeAuthBtn = document.getElementById('closeAuthBtn')
    const openAuthBtn1 = document.getElementById('openAuthBtn')
    const openRegisBtn = document.getElementById('openRegisBtn')
    const closeRegisBtn = document.getElementById('closeRegisBtn')
    const openEditBtn = document.querySelectorAll('.graphs__title-pic')
    const closeEditBtn = document.getElementById('closeEditBtn')
    const authModal = document.querySelector('.modal_auth')
    const regisModal = document.querySelector('.modal_regis')
    const editModal = document.querySelector('.modal_edit')

    openAuthBtn.addEventListener("click", () => {
        authModal.showModal()
    })

    closeAuthBtn.addEventListener("click", () => {
        authModal.close()
    })

    openAuthBtn1.addEventListener("click", () => {
        regisModal.close()
        authModal.showModal()
    })

    authModal.addEventListener("mousedown", e => {
        const dialogDimensions = authModal.getBoundingClientRect()
        if (
            e.clientX < dialogDimensions.left ||
            e.clientX > dialogDimensions.right ||
            e.clientY < dialogDimensions.top ||
            e.clientY > dialogDimensions.bottom
        ) {
            authModal.close()
        }
    })

    openRegisBtn.addEventListener("click", () => {
        authModal.close()
        regisModal.showModal()
    })

    closeRegisBtn.addEventListener("click", () => {
        regisModal.close()
    })

    regisModal.addEventListener("mousedown", e => {
        const dialogDimensions = regisModal.getBoundingClientRect()
        if (
            e.clientX < dialogDimensions.left ||
            e.clientX > dialogDimensions.right ||
            e.clientY < dialogDimensions.top ||
            e.clientY > dialogDimensions.bottom
        ) {
            regisModal.close()
        }
    })

    openEditBtn.forEach((e) =>{
        e.addEventListener("click", () =>{
            editModal.showModal()
        })
    })

    // openEditBtn.addEventListener("click", () => {
    //     editModal.showModal()
    // })

    closeEditBtn.addEventListener("click", () => {
        editModal.close()
    })

    editModal.addEventListener("mousedown", e => {
        const dialogDimensions = editModal.getBoundingClientRect()
        if (
            e.clientX < dialogDimensions.left ||
            e.clientX > dialogDimensions.right ||
            e.clientY < dialogDimensions.top ||
            e.clientY > dialogDimensions.bottom
        ) {
            editModal.close()
        }
    })

    let showBtn = document.querySelectorAll(".modal__content-input-box-show");
    let hideBtn = document.querySelectorAll(".modal__content-input-box-hide");

    let authPass = document.querySelectorAll(".modal__content-input-box-input");

    for (let i = 0; i < showBtn.length; i++) {
        showBtn[i].addEventListener('click', () => {
            if (authPass[i].type === "password") {
                showBtn[i].classList.toggle("modal__content-input-box-show_active");
                hideBtn[i].classList.toggle("modal__content-input-box-hide_active");
                authPass[i].type = "text";
            } else {
                showBtn[i].classList.toggle("modal__content-input-box-show_active");
                hideBtn[i].classList.toggle("modal__content-input-box-hide_active");
                authPass[i].type = "password";
            }
        })

        hideBtn[i].addEventListener('click', () => {
            if (authPass[i].type === "password") {
                showBtn[i].classList.toggle("modal__content-input-box-show_active");
                hideBtn[i].classList.toggle("modal__content-input-box-hide_active");
                authPass[i].type = "text";
            } else {
                showBtn[i].classList.toggle("modal__content-input-box-show_active");
                hideBtn[i].classList.toggle("modal__content-input-box-hide_active");
                authPass[i].type = "password";
            }
        })
    }
</script>
</body>
</html>